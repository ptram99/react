{"ast":null,"code":"import React,{useContext,useEffect,useMemo,useRef}from'react';import confetti from'canvas-confetti';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var ConfettiContext=/*#__PURE__*/React.createContext(null);export var ConfettiProvider=function ConfettiProvider(_ref){var _ref$children=_ref.children,children=_ref$children===void 0?null:_ref$children;var canvasRef=useRef();var confettiRef=useRef();var dropConfetti=useMemo(function(){return function(){if(confettiRef.current&&canvasRef.current){var _confettiRef$current;canvasRef.current.style.visibility='visible';(_confettiRef$current=confettiRef.current({particleCount:400,spread:160,origin:{y:0.3}}))===null||_confettiRef$current===void 0?void 0:_confettiRef$current.finally(function(){if(canvasRef.current){canvasRef.current.style.visibility='hidden';}});}};},[]);useEffect(function(){if(canvasRef.current&&!confettiRef.current){canvasRef.current.style.visibility='hidden';confettiRef.current=confetti.create(canvasRef.current,{resize:true,useWorker:true});}},[]);var canvasStyle={width:'100vw',height:'100vh',position:'absolute',zIndex:1,top:0,left:0};return/*#__PURE__*/_jsxs(ConfettiContext.Provider,{value:{dropConfetti:dropConfetti},children:[/*#__PURE__*/_jsx(\"canvas\",{ref:canvasRef,style:canvasStyle}),children]});};export var Confetti=function Confetti(){var _useConfetti=useConfetti(),dropConfetti=_useConfetti.dropConfetti;useEffect(function(){dropConfetti();},[dropConfetti]);return/*#__PURE__*/_jsx(_Fragment,{});};export var useConfetti=function useConfetti(){var context=useContext(ConfettiContext);return context;};","map":{"version":3,"sources":["C:/Users/User/~/metaplex/fair-launch/src/confetti.tsx"],"names":["React","useContext","useEffect","useMemo","useRef","confetti","ConfettiContext","createContext","ConfettiProvider","children","canvasRef","confettiRef","dropConfetti","current","style","visibility","particleCount","spread","origin","y","finally","create","resize","useWorker","canvasStyle","width","height","position","zIndex","top","left","Confetti","useConfetti","context"],"mappings":"AAAA,MAAOA,CAAAA,KAAP,EAAgBC,UAAhB,CAA4BC,SAA5B,CAAuCC,OAAvC,CAAgDC,MAAhD,KAA8D,OAA9D,CACA,MAAOC,CAAAA,QAAP,KAAqB,iBAArB,C,6IAMA,GAAMC,CAAAA,eAAe,cAAGN,KAAK,CAACO,aAAN,CAAiD,IAAjD,CAAxB,CAEA,MAAO,IAAMC,CAAAA,gBAAgB,CAAG,QAAnBA,CAAAA,gBAAmB,MAAgC,wBAA7BC,QAA6B,CAA7BA,QAA6B,wBAAlB,IAAkB,eAC9D,GAAMC,CAAAA,SAAS,CAAGN,MAAM,EAAxB,CACA,GAAMO,CAAAA,WAAW,CAAGP,MAAM,EAA1B,CAEA,GAAMQ,CAAAA,YAAY,CAAGT,OAAO,CAC1B,iBAAM,WAAM,CACV,GAAIQ,WAAW,CAACE,OAAZ,EAAuBH,SAAS,CAACG,OAArC,CAA8C,0BAC5CH,SAAS,CAACG,OAAV,CAAkBC,KAAlB,CAAwBC,UAAxB,CAAqC,SAArC,CACA,sBAAAJ,WAAW,CACRE,OADH,CACW,CACPG,aAAa,CAAE,GADR,CAEPC,MAAM,CAAE,GAFD,CAGPC,MAAM,CAAE,CAAEC,CAAC,CAAE,GAAL,CAHD,CADX,qEAMIC,OANJ,CAMY,UAAM,CACd,GAAIV,SAAS,CAACG,OAAd,CAAuB,CACrBH,SAAS,CAACG,OAAV,CAAkBC,KAAlB,CAAwBC,UAAxB,CAAqC,QAArC,CACD,CACF,CAVH,EAWD,CACF,CAfD,EAD0B,CAiB1B,EAjB0B,CAA5B,CAoBAb,SAAS,CAAC,UAAM,CACd,GAAIQ,SAAS,CAACG,OAAV,EAAqB,CAACF,WAAW,CAACE,OAAtC,CAA+C,CAC7CH,SAAS,CAACG,OAAV,CAAkBC,KAAlB,CAAwBC,UAAxB,CAAqC,QAArC,CACAJ,WAAW,CAACE,OAAZ,CAAsBR,QAAQ,CAACgB,MAAT,CAAgBX,SAAS,CAACG,OAA1B,CAAmC,CACvDS,MAAM,CAAE,IAD+C,CAEvDC,SAAS,CAAE,IAF4C,CAAnC,CAAtB,CAID,CACF,CARQ,CAQN,EARM,CAAT,CAUA,GAAMC,CAAAA,WAAgC,CAAG,CACvCC,KAAK,CAAE,OADgC,CAEvCC,MAAM,CAAE,OAF+B,CAGvCC,QAAQ,CAAE,UAH6B,CAIvCC,MAAM,CAAE,CAJ+B,CAKvCC,GAAG,CAAE,CALkC,CAMvCC,IAAI,CAAE,CANiC,CAAzC,CASA,mBACE,MAAC,eAAD,CAAiB,QAAjB,EAA0B,KAAK,CAAE,CAAElB,YAAY,CAAZA,YAAF,CAAjC,wBACE,eAAQ,GAAG,CAAEF,SAAb,CAA+B,KAAK,CAAEc,WAAtC,EADF,CAEGf,QAFH,GADF,CAMD,CAjDM,CAmDP,MAAO,IAAMsB,CAAAA,QAAQ,CAAG,QAAXA,CAAAA,QAAW,EAAM,CAC5B,iBAAyBC,WAAW,EAApC,CAAQpB,YAAR,cAAQA,YAAR,CAEAV,SAAS,CAAC,UAAM,CACdU,YAAY,GACb,CAFQ,CAEN,CAACA,YAAD,CAFM,CAAT,CAIA,mBAAO,kBAAP,CACD,CARM,CAUP,MAAO,IAAMoB,CAAAA,WAAW,CAAG,QAAdA,CAAAA,WAAc,EAAM,CAC/B,GAAMC,CAAAA,OAAO,CAAGhC,UAAU,CAACK,eAAD,CAA1B,CACA,MAAO2B,CAAAA,OAAP,CACD,CAHM","sourcesContent":["import React, { useContext, useEffect, useMemo, useRef } from 'react';\r\nimport confetti from 'canvas-confetti';\r\n\r\nexport interface ConfettiContextState {\r\n  dropConfetti: () => void;\r\n}\r\n\r\nconst ConfettiContext = React.createContext<ConfettiContextState | null>(null);\r\n\r\nexport const ConfettiProvider = ({ children = null as any }) => {\r\n  const canvasRef = useRef<HTMLCanvasElement>();\r\n  const confettiRef = useRef<confetti.CreateTypes>();\r\n\r\n  const dropConfetti = useMemo(\r\n    () => () => {\r\n      if (confettiRef.current && canvasRef.current) {\r\n        canvasRef.current.style.visibility = 'visible';\r\n        confettiRef\r\n          .current({\r\n            particleCount: 400,\r\n            spread: 160,\r\n            origin: { y: 0.3 },\r\n          })\r\n          ?.finally(() => {\r\n            if (canvasRef.current) {\r\n              canvasRef.current.style.visibility = 'hidden';\r\n            }\r\n          });\r\n      }\r\n    },\r\n    [],\r\n  );\r\n\r\n  useEffect(() => {\r\n    if (canvasRef.current && !confettiRef.current) {\r\n      canvasRef.current.style.visibility = 'hidden';\r\n      confettiRef.current = confetti.create(canvasRef.current, {\r\n        resize: true,\r\n        useWorker: true,\r\n      });\r\n    }\r\n  }, []);\r\n\r\n  const canvasStyle: React.CSSProperties = {\r\n    width: '100vw',\r\n    height: '100vh',\r\n    position: 'absolute',\r\n    zIndex: 1,\r\n    top: 0,\r\n    left: 0,\r\n  };\r\n\r\n  return (\r\n    <ConfettiContext.Provider value={{ dropConfetti }}>\r\n      <canvas ref={canvasRef as any} style={canvasStyle} />\r\n      {children}\r\n    </ConfettiContext.Provider>\r\n  );\r\n};\r\n\r\nexport const Confetti = () => {\r\n  const { dropConfetti } = useConfetti();\r\n\r\n  useEffect(() => {\r\n    dropConfetti();\r\n  }, [dropConfetti]);\r\n\r\n  return <></>;\r\n};\r\n\r\nexport const useConfetti = () => {\r\n  const context = useContext(ConfettiContext);\r\n  return context as ConfettiContextState;\r\n};\r\n"]},"metadata":{},"sourceType":"module"}